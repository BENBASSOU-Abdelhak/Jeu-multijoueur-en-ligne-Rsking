<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="604" height="750"><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="604" height="750"/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="16.5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="93.37520107098044" y="22.6179738" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Initialisation de connexion WebSocket</text></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 45.149658982 88.511670804 L 45.149658982 750.4643706840001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 191.34984400905074 88.511670804 L 191.34984400905074 750.4643706840001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 475.17754900905067 88.511670804 L 475.17754900905067 750.4643706840001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 7.5393246000000005 47.799317964000004 L 82.759993364 47.799317964000004 L 82.759993364 88.511670804 L 7.5393246000000005 88.511670804 L 7.5393246000000005 47.799317964000004 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="23.899658982" y="73.43302160400002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Client</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 145.46451000852048 47.799317964000004 L 237.23517800958103 47.799317964000004 L 237.23517800958103 88.511670804 L 145.46451000852048 88.511670804 L 145.46451000852048 47.799317964000004 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="161.82484439052047" y="73.43302160400002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Listener</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 430.8088814208739 47.799317964000004 L 519.5462165972274 47.799317964000004 L 519.5462165972274 88.511670804 L 430.8088814208739 88.511670804 L 430.8088814208739 47.799317964000004 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="447.1692158028739" y="73.43302160400002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Session</text></g></g><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 183.81051940905076 219.69591884400003 L 198.88916860905073 219.69591884400003 L 198.88916860905073 735.3857214840001 L 183.81051940905076 735.3857214840001 L 183.81051940905076 219.69591884400003" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 37.610334382 323.73859832400007 L 52.688983582 323.73859832400007 L 52.688983582 735.3857214840001 L 37.610334382 735.3857214840001 L 37.610334382 323.73859832400007" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 191.34984400905074 385.5610600440001 L 206.4284932090507 385.5610600440001 L 206.4284932090507 427.7812778040001 L 191.34984400905074 427.7812778040001 L 191.34984400905074 385.5610600440001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 467.6382244090507 427.7812778040001 L 482.71687360905065 427.7812778040001 L 482.71687360905065 735.3857214840001 L 467.6382244090507 735.3857214840001 L 467.6382244090507 427.7812778040001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 475.17754900905067 593.6464190040001 L 490.25619820905064 593.6464190040001 L 490.25619820905064 697.689098484 L 475.17754900905067 697.689098484 L 475.17754900905067 593.6464190040001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g><g><rect fill="white" stroke="none" x="209.19291222905073" y="118.66896920400002" width="217.59026040941407" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="211.45470960905072" y="132.239753484" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Listener(ioc, tcp::endpoint...)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 191.34984400905074 138.27121316400002 L 251.66444080905075 138.27121316400002 L 251.66444080905075 157.87345712400003 L 203.76459851705073 157.87345712400003" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(191.34984400905074,157.87345712400003) translate(-191.34984400905074,-157.87345712400003)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 203.91538500905074 151.59068662400003 L 191.34984400905074 157.87345712400003 L 203.91538500905074 164.15622762400002 Z"/></g></g><g><g><rect fill="white" stroke="none" x="216.73223682905072" y="180.49143092400004" width="102.95692911058593" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="218.9940342090507" y="194.06221520400004" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Listener.run()</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 191.34984400905074 200.09367488400002 L 259.20376540905073 200.09367488400002 L 259.20376540905073 219.69591884400003 L 211.30392311705072 219.69591884400003" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(198.88916860905073,219.69591884400003) translate(-198.88916860905073,-219.69591884400003)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 211.45470960905072 213.41314834400004 L 198.88916860905073 219.69591884400003 L 211.45470960905072 225.97868934400003 Z"/></g></g><g><g><rect fill="white" stroke="none" x="216.73223682905072" y="242.31389264400002" width="153.17358865648438" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="218.9940342090507" y="255.88467692400002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Listener.do_accept()</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 198.88916860905073 261.91613660400003 L 259.20376540905073 261.91613660400003 L 259.20376540905073 281.51838056400004 L 211.30392311705072 281.51838056400004" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(198.88916860905073,281.51838056400004) translate(-198.88916860905073,-281.51838056400004)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 211.45470960905072 275.235610064 L 198.88916860905073 281.51838056400004 L 211.45470960905072 287.80115106400007 Z"/></g></g><g><g><rect fill="white" stroke="none" x="70.80461976493943" y="304.13635436400006" width="94.89026346117187" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="73.06641714493944" y="317.7071386440001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">TCP connect</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 52.688983582 323.73859832400007 L 171.39576490105077 323.73859832400007" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(183.81051940905076,323.73859832400007) translate(-183.81051940905076,-323.73859832400007)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 171.24497840905076 317.45582782400004 L 183.81051940905076 323.73859832400007 L 171.24497840905076 330.0213688240001 Z"/></g></g><g><g><rect fill="white" stroke="none" x="224.27156142905076" y="346.3565721240001" width="90.79026498705078" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="226.53335880905075" y="359.9273564040001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">on_accept()</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 198.88916860905073 365.9588160840001 L 266.7430900090508 365.9588160840001 L 266.7430900090508 385.5610600440001 L 218.84324771705076 385.5610600440001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(206.42849320905074,385.5610600440001) translate(-206.42849320905074,-385.5610600440001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 218.99403420905074 379.2782895440001 L 206.42849320905074 385.5610600440001 L 218.99403420905074 391.8438305440001 Z"/></g></g><g><g><rect fill="white" stroke="none" x="224.2715614290507" y="408.1790338440001" width="225.52359476" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="226.5333588090507" y="421.74981812400017" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Session(move(socket))-&gt;run()</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 206.42849320905074 427.7812778040001 L 455.2234699010507 427.7812778040001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(467.6382244090507,427.7812778040001) translate(-467.6382244090507,-427.7812778040001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 455.0726834090507 421.4985073040001 L 467.6382244090507 427.7812778040001 L 455.0726834090507 434.06404830400015 Z"/></g></g><g><g><rect fill="white" stroke="none" x="500.5599418290506" y="450.39925160400014" width="66.20692911058593" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="502.82173920905063" y="463.97003588400014" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">on_run()</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 482.71687360905065 470.00149556400015 L 543.0314704090506 470.00149556400015 L 543.0314704090506 489.60373952400016 L 495.13162811705064 489.60373952400016" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(482.71687360905065,489.60373952400016) translate(-482.71687360905065,-489.60373952400016)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 495.28241460905065 483.32096902400014 L 482.71687360905065 489.60373952400016 L 495.28241460905065 495.8865100240002 Z"/></g></g><g><g><rect fill="white" stroke="none" x="178.8851363884746" y="512.2217133240001" width="162.55693521410157" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="181.14693376847458" y="525.7924976040001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">WebSocket Hanshake</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 52.688983582 531.8239572840001 L 455.2234699010507 531.8239572840001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(467.6382244090507,531.8239572840001) translate(-467.6382244090507,-531.8239572840001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 455.0726834090507 525.5411867840002 L 467.6382244090507 531.8239572840001 L 455.0726834090507 538.1067277840001 Z"/></g></g><g><g><rect fill="white" stroke="none" x="508.09926642905066" y="554.4419310840001" width="90.79026498705078" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="510.3610638090507" y="568.0127153640001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">on_accept()</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 482.71687360905065 574.0441750440001 L 550.5707950090507 574.0441750440001 L 550.5707950090507 593.6464190040001 L 502.6709527170507 593.6464190040001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(490.2561982090507,593.6464190040001) translate(-490.2561982090507,-593.6464190040001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 502.8217392090507 587.3636485040001 L 490.2561982090507 593.6464190040001 L 502.8217392090507 599.9291895040001 Z"/></g></g><g><g><rect fill="white" stroke="none" x="150.65479868847459" y="616.2643928040001" width="226.55693521410157" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="152.91659606847458" y="629.8351770840001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Accept WebSocket Handshake</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 475.17754900905067 635.8666367640001 L 65.10373809000001 635.8666367640001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(52.688983582,635.8666367640001) translate(-52.688983582,-635.8666367640001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 65.254524582 629.5838662640001 L 52.688983582 635.8666367640001 L 65.254524582 642.149407264 Z"/></g></g><g><g><rect fill="white" stroke="none" x="508.09926642905066" y="658.484610564" width="78.47359170824218" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="510.3610638090507" y="672.055394844" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">on_write()</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 490.2561982090507 678.086854524 L 550.5707950090507 678.086854524 L 550.5707950090507 697.689098484 L 502.6709527170507 697.689098484" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(490.2561982090507,697.689098484) translate(-490.2561982090507,-697.689098484)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 502.8217392090507 691.4063279840001 L 490.2561982090507 697.689098484 L 502.8217392090507 703.971868984 Z"/></g></g></g><g/><g/><g/></g></svg>